import{b as N,r as f,j as e,F as k,c as y,d as E,e as w,f as F,g as b,h as C,i as S,k as T}from"./index-Q5swbgvz.js";function I(n){return N({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"},child:[]}]})(n)}const z="/react-akademiakupula/assets/entrada-kupula-BInt883G.jpg",R=()=>{const[n,m]=f.useState({nombre:"",email:"",telefono:"",curso:"",mensaje:""}),[r,i]=f.useState({status:"idle",message:""}),[o,d]=f.useState({}),[t,h]=f.useState({}),x=(l,a)=>{let s="";switch(l){case"nombre":a.trim()?a.trim().length<2&&(s="El nombre debe tener al menos 2 caracteres"):s="El nombre es obligatorio";break;case"email":a.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)||(s="Introduce un email válido"):s="El email es obligatorio";break;case"telefono":a&&!/^[0-9]{9}$/.test(a.replace(/\s/g,""))&&(s="Introduce un número de teléfono válido (9 dígitos)");break;case"mensaje":a.trim()?a.trim().length<10&&(s="El mensaje debe tener al menos 10 caracteres"):s="El mensaje es obligatorio";break}return s},p=l=>{const{name:a,value:s}=l.target;m(c=>({...c,[a]:s})),t[a]&&d(c=>({...c,[a]:x(a,s)}))},j=l=>{const{name:a,value:s}=l.target;h(c=>({...c,[a]:!0})),d(c=>({...c,[a]:x(a,s)}))},g=()=>{const l={};return Object.keys(n).forEach(a=>{const s=x(a,n[a]);s&&(l[a]=s)}),d(l),Object.keys(l).length===0},v=async l=>{if(l.preventDefault(),!g()){const a={};Object.keys(n).forEach(s=>{a[s]=!0}),h(a),i({status:"error",message:"Por favor, corrige los errores en el formulario"});return}i({status:"submitting",message:"Enviando mensaje..."});try{const a={nombre:n.nombre,email:n.email,telefono:n.telefono||"",curso:n.curso||"",mensaje:n.mensaje};console.log("Enviando datos de contacto al backend:",a);let s;try{console.log("Intentando conectar con el backend en http://localhost:5000/api/contacto"),s=await fetch("http://localhost:5000/api/contacto",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),console.log("Respuesta del servidor:",s.status,s.statusText)}catch(u){console.error("Error de red al conectar con el backend:",u),i({status:"error",message:"No se pudo conectar con el servidor. Los datos no se han guardado en la base de datos."}),s={ok:!0,_simulatedResponse:!0,json:()=>Promise.resolve({message:"Mensaje procesado localmente (sin conexión al servidor)"})}}if(!s.ok)if(s.status===500){console.error("Error 500 del servidor. Posiblemente el backend no está configurado correctamente."),i({status:"error",message:"Error interno del servidor. El mensaje no se ha guardado. Por favor, inténtalo más tarde o contáctanos por teléfono."}),s={ok:!0,_simulatedResponse:!0,json:()=>Promise.resolve({message:"Error interno del servidor simulado"})};return}else throw new Error(`Error en la respuesta del servidor: ${s.status} ${s.statusText}`);let c="Mensaje enviado con éxito. Nos pondremos en contacto contigo pronto.";if(s.json&&typeof s.json=="function"&&!s._simulatedResponse)try{const u=await s.json();u&&u.message&&(c=u.message)}catch(u){console.warn("No se pudo leer la respuesta como JSON:",u)}i({status:"success",message:c}),setTimeout(()=>{m({nombre:"",email:"",telefono:"",curso:"",mensaje:""}),h({}),i({status:"idle",message:""})},3e3)}catch(a){console.error("Error:",a),i({status:"error",message:"Error al enviar el mensaje. Por favor, inténtalo de nuevo."})}};return e.jsx("div",{className:"form-card1",children:e.jsxs("div",{className:"form-card2",children:[e.jsx("h3",{className:"form-title",children:"Envíanos un mensaje"}),r.status==="success"&&e.jsxs("div",{className:"form-message success",children:[e.jsx(k,{className:"message-icon"}),e.jsx("p",{children:r.message})]}),r.status==="error"&&e.jsxs("div",{className:"form-message error",children:[e.jsx(y,{className:"message-icon"}),e.jsx("p",{children:r.message})]}),e.jsxs("form",{className:"contact-form",onSubmit:v,noValidate:!0,"aria-label":"Formulario de contacto",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"nombre",className:"form-label",children:["Nombre ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("div",{className:`form-field ${t.nombre&&o.nombre?"error":""}`,children:e.jsx("input",{id:"nombre",className:"input-field",type:"text",name:"nombre",placeholder:"Tu nombre completo",value:n.nombre,onChange:p,onBlur:j,required:!0,"aria-required":"true","aria-invalid":t.nombre&&o.nombre?"true":"false","aria-describedby":o.nombre?"nombre-error":void 0,disabled:r.status==="submitting"||r.status==="success"})}),t.nombre&&o.nombre&&e.jsx("div",{className:"error-message",id:"nombre-error",role:"alert",children:o.nombre})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("div",{className:`form-field ${t.email&&o.email?"error":""}`,children:e.jsx("input",{id:"email",className:"input-field",type:"email",name:"email",placeholder:"tu.email@ejemplo.com",value:n.email,onChange:p,onBlur:j,required:!0,"aria-required":"true","aria-invalid":t.email&&o.email?"true":"false","aria-describedby":o.email?"email-error":void 0,disabled:r.status==="submitting"||r.status==="success"})}),t.email&&o.email&&e.jsx("div",{className:"error-message",id:"email-error",role:"alert",children:o.email})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"telefono",className:"form-label",children:["Teléfono ",e.jsx("span",{className:"optional",children:"(opcional)"})]}),e.jsx("div",{className:`form-field ${t.telefono&&o.telefono?"error":""}`,children:e.jsx("input",{id:"telefono",className:"input-field",type:"tel",name:"telefono",placeholder:"Tu número de teléfono",value:n.telefono,onChange:p,onBlur:j,"aria-invalid":t.telefono&&o.telefono?"true":"false","aria-describedby":o.telefono?"telefono-error":void 0,disabled:r.status==="submitting"||r.status==="success"})}),t.telefono&&o.telefono&&e.jsx("div",{className:"error-message",id:"telefono-error",role:"alert",children:o.telefono})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"curso",className:"form-label",children:["Curso de interés ",e.jsx("span",{className:"optional",children:"(opcional)"})]}),e.jsx("div",{className:"form-field",children:e.jsxs("select",{id:"curso",className:"input-field",name:"curso",value:n.curso,onChange:p,disabled:r.status==="submitting"||r.status==="success",children:[e.jsx("option",{value:"",children:"Selecciona un curso"}),e.jsx("option",{value:"maquillaje",children:"Maquillaje Profesional"}),e.jsx("option",{value:"unas",children:"Uñas Esculpidas"}),e.jsx("option",{value:"estetica",children:"Estética Integral"}),e.jsx("option",{value:"manicura",children:"Manicura y Pedicura"}),e.jsx("option",{value:"social",children:"Maquillaje Social"}),e.jsx("option",{value:"pestanas",children:"Extensión de Pestañas"}),e.jsx("option",{value:"otro",children:"Otro"})]})})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"mensaje",className:"form-label",children:["Mensaje ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("div",{className:`form-field ${t.mensaje&&o.mensaje?"error":""}`,children:e.jsx("textarea",{id:"mensaje",className:"input-field",name:"mensaje",placeholder:"¿En qué podemos ayudarte?",rows:"3",value:n.mensaje,onChange:p,onBlur:j,required:!0,"aria-required":"true","aria-invalid":t.mensaje&&o.mensaje?"true":"false","aria-describedby":o.mensaje?"mensaje-error":void 0,disabled:r.status==="submitting"||r.status==="success"})}),t.mensaje&&o.mensaje&&e.jsx("div",{className:"error-message",id:"mensaje-error",role:"alert",children:o.mensaje})]}),e.jsx("div",{className:"form-privacy",children:e.jsxs("p",{children:["Al enviar este formulario, aceptas nuestra ",e.jsx("a",{href:"/politica-privacidad",target:"_blank",children:"política de privacidad"}),"."]})}),e.jsx("button",{type:"submit",className:`sendMessage-btn ${r.status==="submitting"?"submitting":""}`,disabled:r.status==="submitting"||r.status==="success",children:r.status==="submitting"?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"spinner","aria-hidden":"true"}),e.jsx("span",{children:"Enviando..."})]}):"Enviar mensaje"})]})]})})},M=()=>{const n=f.useRef(null),m=f.useRef([]);f.useEffect(()=>{const i={root:null,rootMargin:"0px",threshold:.1},o=t=>{t.forEach(h=>{h.isIntersecting&&h.target.classList.add("visible")})},d=new IntersectionObserver(o,i);return n.current&&d.observe(n.current),m.current.forEach(t=>{t&&d.observe(t)}),()=>{n.current&&d.unobserve(n.current),m.current.forEach(t=>{t&&d.unobserve(t)})}},[]);const r=i=>{i&&!m.current.includes(i)&&m.current.push(i)};return e.jsx("section",{id:"contacto",className:"contact-section fade-in-section",ref:n,children:e.jsxs("div",{className:"contact-wrapper",children:[e.jsxs("header",{className:"section-header fade-in-section",ref:r,children:[e.jsx("h2",{children:"Contacto"}),e.jsx("p",{className:"section-description",children:"¿Tienes dudas o quieres apuntarte a uno de nuestros cursos? ¡Escríbenos sin compromiso!"})]}),e.jsxs("div",{className:"contact-container",children:[e.jsx("div",{className:"fade-in-section",ref:r,children:e.jsx(R,{})}),e.jsxs("div",{className:"info-extra fade-in-section",ref:r,children:[e.jsxs("div",{className:"contact-info-card",children:[e.jsx("h3",{className:"info-title",children:"Información de contacto"}),e.jsxs("ul",{className:"contact-info-list",children:[e.jsxs("li",{className:"contact-info-item",children:[e.jsx(w,{className:"contact-info-icon","aria-hidden":"true"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Dirección:"}),e.jsx("address",{children:"Calle Iturriaga, nº 58, 48004 Bilbo, Bizkaia"})]})]}),e.jsxs("li",{className:"contact-info-item",children:[e.jsx(F,{className:"contact-info-icon","aria-hidden":"true"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Teléfono:"}),e.jsx("a",{href:"tel:+34620576646",className:"contact-link",children:"+34 620 57 66 46"})]})]}),e.jsxs("li",{className:"contact-info-item",children:[e.jsx(b,{className:"contact-info-icon","aria-hidden":"true"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Email:"}),e.jsx("a",{href:"mailto:institutodebellezataniacalvo@gmail.com",className:"contact-link",children:"institutodebellezataniacalvo@gmail.com"})]})]})]})]}),e.jsxs("div",{className:"store-image",children:[e.jsx("img",{src:z,alt:"Fachada de Akademia La Kúpula"}),e.jsx("p",{children:"Nos encontrarás en el corazón de Santutxu, ¡a menos de 100m del metro!"})]}),e.jsx("div",{className:"map-container","aria-label":"Mapa de ubicación",children:e.jsx("iframe",{title:"Ubicación de Akademia La Kúpula",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5811.948268604861!2d-2.9105716000000283!3d43.251963900000014!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd4e4e4c0c4decc1%3A0x32a07f372db1faa6!2sLa%20Kupula!5e0!3m2!1ses!2ses!4v1744870036913!5m2!1ses!2ses",width:"100%",height:"250",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade","aria-label":"Google Maps mostrando la ubicación de Akademia La Kúpula"})})]})]}),e.jsxs("div",{className:"social-section fade-in-section",ref:r,children:[e.jsx("h3",{className:"social-title",children:"Síguenos en redes sociales"}),e.jsxs("div",{className:"social-icons",style:{display:"flex",justifyContent:"center",gap:"20px",marginTop:"20px"},children:[e.jsx("a",{href:"https://www.tiktok.com/@taniadelacupula",target:"_blank",rel:"noopener noreferrer","aria-label":"Síguenos en TikTok",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"#1a1a1a",color:"#ffd700",fontSize:"24px",textDecoration:"none",transition:"all 0.3s ease",border:"1px solid rgba(255, 215, 0, 0.2)"},title:"TikTok",children:e.jsx(I,{size:24})}),e.jsx("a",{href:"https://www.facebook.com/tania.laCupula",target:"_blank",rel:"noopener noreferrer","aria-label":"Síguenos en Facebook",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"#1a1a1a",color:"#ffd700",fontSize:"24px",textDecoration:"none",transition:"all 0.3s ease",border:"1px solid rgba(255, 215, 0, 0.2)"},title:"Facebook",children:e.jsx(C,{size:24})}),e.jsx("a",{href:"https://www.instagram.com/taniadelacupula",target:"_blank",rel:"noopener noreferrer","aria-label":"Síguenos en Instagram",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"#1a1a1a",color:"#ffd700",fontSize:"24px",textDecoration:"none",transition:"all 0.3s ease",border:"1px solid rgba(255, 215, 0, 0.2)"},title:"Instagram",children:e.jsx(S,{size:24})}),e.jsx("a",{href:"https://wa.me/+34620576646",target:"_blank",rel:"noopener noreferrer","aria-label":"Contáctanos por WhatsApp",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"#1a1a1a",color:"#ffd700",fontSize:"24px",textDecoration:"none",transition:"all 0.3s ease",border:"1px solid rgba(255, 215, 0, 0.2)"},title:"WhatsApp",children:e.jsx(T,{size:24})}),e.jsx("a",{href:"mailto:institutodebellezataniacalvo@gmail.com","aria-label":"Envíanos un email",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"#1a1a1a",color:"#ffd700",fontSize:"24px",textDecoration:"none",transition:"all 0.3s ease",border:"1px solid rgba(255, 215, 0, 0.2)"},title:"Email",children:e.jsx(b,{size:24})})]})]})]})})};export{M as default};
