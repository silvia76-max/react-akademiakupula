import{r as p,$,j as s,P as O,C as R,D as T,a0 as q,a1 as A,a2 as L}from"./index-BXbcqYUm.js";const z=({data:g,columns:m,title:N,onView:d,onEdit:h,onDelete:x,loading:C,error:v,onPageChange:f,emptyMessage:F="No hay datos disponibles"})=>{const[a,S]=p.useState({key:null,direction:"asc"}),[t,k]=p.useState(1),[j,P]=p.useState(10),c=$.useMemo(()=>{let e=[...g];return a.key&&e.sort((n,i)=>{const l=n[a.key],r=i[a.key];return l==null?1:r==null?-1:typeof l=="string"&&typeof r=="string"?a.direction==="asc"?l.localeCompare(r):r.localeCompare(l):a.direction==="asc"?l-r:r-l}),e},[g,a]),I=e=>{let n="asc";a.key===e&&a.direction==="asc"&&(n="desc"),S({key:e,direction:n})},M=e=>a.key!==e?s.jsx(q,{className:"sort-icon"}):a.direction==="asc"?s.jsx(A,{className:"sort-icon active"}):s.jsx(L,{className:"sort-icon active"}),u=t*j,y=u-j,D=c.slice(y,u),o=Math.ceil(c.length/j),b=e=>{e>0&&e<=o&&(k(e),f&&f(e))},E=e=>{P(Number(e.target.value)),k(1)};return s.jsxs("div",{className:"data-table-container",children:[N&&s.jsx("h2",{className:"table-title",children:N}),v&&s.jsx("div",{className:"table-error",children:v}),C?s.jsxs("div",{className:"table-loading",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Cargando datos..."})]}):s.jsx(s.Fragment,{children:c.length===0?s.jsx("div",{className:"table-empty",children:F}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"data-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[m.map(e=>s.jsxs("th",{onClick:()=>e.sortable!==!1&&I(e.key),className:e.sortable!==!1?"sortable":"",children:[e.label,e.sortable!==!1&&M(e.key)]},e.key)),(d||h||x)&&s.jsx("th",{className:"actions-column",children:"Acciones"})]})}),s.jsx("tbody",{children:D.map((e,n)=>s.jsxs("tr",{children:[m.map(i=>s.jsx("td",{children:i.render?i.render(e[i.key],e):e[i.key]},`${e.id||n}-${i.key}`)),(d||h||x)&&s.jsxs("td",{className:"actions-cell",children:[d&&s.jsx("button",{className:"view-button",onClick:()=>d(e),title:"Ver detalles",children:s.jsx(O,{})}),h&&s.jsx("button",{className:"edit-button",onClick:()=>h(e),title:"Editar",children:s.jsx(R,{})}),x&&s.jsx("button",{className:"delete-button",onClick:()=>x(e),title:"Eliminar",children:s.jsx(T,{})})]})]},e.id||n))})]})}),s.jsxs("div",{className:"table-pagination",children:[s.jsxs("div",{className:"pagination-info",children:["Mostrando ",y+1," a ",Math.min(u,c.length)," de ",c.length," registros"]}),s.jsxs("div",{className:"pagination-controls",children:[s.jsxs("select",{value:j,onChange:E,className:"items-per-page",children:[s.jsx("option",{value:5,children:"5"}),s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("button",{onClick:()=>b(1),disabled:t===1,className:"pagination-button",children:"«"}),s.jsx("button",{onClick:()=>b(t-1),disabled:t===1,className:"pagination-button",children:"‹"}),s.jsxs("span",{className:"pagination-current",children:["Página ",t," de ",o]}),s.jsx("button",{onClick:()=>b(t+1),disabled:t===o,className:"pagination-button",children:"›"}),s.jsx("button",{onClick:()=>b(o),disabled:t===o,className:"pagination-button",children:"»"})]})]})]})})]})};export{z as D};
